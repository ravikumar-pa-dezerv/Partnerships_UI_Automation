appId: com.htmedia.mint
---
- launchApp:
    clearState: true
- waitForAnimationToEnd

- runFlow:
    when:
      visible: 
        id: mintlogo
    commands:
      - runFlow:
          when:
            visible: 
              id: mintlogo
          commands:
            - runFlow:
                when:
                  visible: 
                    id: mintlogo
                commands:
                  - runFlow:
                      when:
                        visible: 
                          id: mintlogo
                      commands:
                        - runFlow:
                            when:
                              visible: 
                                id: mintlogo
                            commands:
                              - runFlow:
                                  when:
                                    visible: 
                                      id: mintlogo
                                  commands:
                                    - tapOn: 
                                        id: mintlogo
- waitForAnimationToEnd

- runFlow:
    when:
      visible: "Consent"
    commands:
      - tapOn: "Consent"

- runFlow:
    when:
      visible: "Consent"
    commands:
      - tapOn: "Consent"

- waitForAnimationToEnd
- tapOn: "Markets"
- waitForAnimationToEnd

- runFlow:
    when:
      visible: "Take a Quick Tour"
    commands:
      - tapOn: "Take a Quick Tour"
      - runFlow:
          when:
            visible: "Skip"
          commands:
            - tapOn: "Skip"
- tapOn: "Portfolio"
- waitForAnimationToEnd
- assertVisible:
    text: "Link your portfolio to get started.*"
    delay: 30000

#Login
# Enter phone number
- doubleTapOn:
    text: Enter Phone Number.*
- tapOn:
    text: Enter Phone Number.*
    delay: 100
- inputText: "9663117951"

#"Get Started"
- tapOn:
    text: Get Started.*

# DEZ OTP
- doubleTapOn:
    text: Enter 4 digit OTP.*
- tapOn:
    text: Enter 4 digit OTP.*
    delay: 20000
- inputText: "1"
- waitForAnimationToEnd

- assertVisible:
    text: "Your Assets.*"
    delay: 30000
- assertVisible: "FAQs.*"



#8 MF - HEADER
- tapOn: .*Mutual Funds.*[0-9,]+\sFunds.*[-]?₹.*
- waitForAnimationToEnd
- assertVisible: Mutual Funds.*
- assertVisible: Holdings as of.*
- assertVisible: ₹ ₹
- assertVisible: .*Total Invested.*[-+]?₹[0-9.,KkMmLl]+.*
- assertVisible: .*Current Gains.*[-+]?₹[0-9.,KkMmLl]+.*
- assertVisible: .*1D Return:\s*[-+]?₹[0-9.,KkMm]+.*[-+]?[0-9.]+%

- assertVisible: Refresh.*
- tapOn: Refresh.*
- waitForAnimationToEnd
- assertVisible: Verify with OTP.*
- assertVisible: Enter the 6-digit OTP sent by MF central to.*

- tapOn:
    #text: backward arrow
    point: 7%,8%
- scrollUntilVisible:
    element:
      text: "Mutual Funds.*"
    direction: UP

#9 MF - L1 SUMMARY
- assertVisible: Summary Tab 1 of 2
- assertVisible: Holdings Tab 2 of 2
- assertVisible: How did your portfolio perform?.*
- assertVisible: Portfolio XIRR.*
- assertVisible: Benchmark XIRR.*
- assertVisible: You have\s+.*\s+since your portfolio\s+.*\s+the benchmark.*

- scrollUntilVisible:
    element:
      text: "Ideal Funds:.*"
    direction: DOWN
- assertVisible: How is your portfolio distributed?.*
- assertVisible: Overall Overall
- assertVisible: Your funds Your funds
- assertVisible: Your AMCs Your AMCs
- assertVisible: Ideal Funds:.*

- scrollUntilVisible:
    element:
      text: "What fixed cost are you paying?.*"
    direction: DOWN
- assertVisible: Concentration.*
- tapOn: Concentration.*
- assertVisible: .*Top\s+[0-9,]+\s+Funds.*[-+]?₹[0-9.,KkMmLl]+.*[-+]?[0-9]*\.?[0-9]+%.*
- assertVisible: .*Rest\s+[0-9,]+\s+Funds.*[-+]?₹[0-9.,KkMmLl]+.*[-+]?[0-9]*\.?[0-9]+%.*

- scrollUntilVisible:
    element:
      text: "Our fund evaluation process.*"
    direction: DOWN
- assertVisible: What fixed cost are you paying?.*
- assertVisible: Annual Cost(TER) Annual Cost(TER)
- assertVisible: .*Direct\s*\([0-9,]+\s*funds\).*
- assertVisible: .*Regular\s*\([0-9,]+\s*funds\).*
- assertVisible: All your investments are in direct funds.*
- assertVisible: Our fund evaluation process.*
- assertVisible: Powered by.*

- repeat:
    times: 3
    commands:
      - swipe:
          direction: DOWN

#10 MF - L1 HOLDINGS
- tapOn: Holdings Tab 2 of 2
- waitForAnimationToEnd
- assertVisible: Holdings \([0-9]+\).*
- scrollUntilVisible:
    element:
      text: "Bandhan Small Cap Fund.*"
    direction: DOWN
- assertVisible: 'Bandhan Small Cap Fund-Direct Plan-Growth.*Bandhan Small Cap Fund-Direct Plan-Growth.*Equity\s*•\s*Small-Cap Equity\s*•\s*Small-Cap.*Current Value.*Current Value.*-?\s*₹[0-9\.,]+[KkMm]?.*-?\s*₹[0-9\.,]+[KkMm]?.*Fund IRR.*[0-9]+(?:\.[0-9]+)?%.*[0-9]+(?:\.[0-9]+)?%.*IISL Nifty Smallcap 250 TR INR.*[0-9]+(?:\.[0-9]+)?%.*[0-9]+(?:\.[0-9]+)?%'
- assertVisible: Powered by.*

#11 MF - L2 HOLDINGS
- tapOn: Bandhan Small Cap Fund.*

- assertVisible: Bandhan Small Cap Fund-Direct Plan-Growth.*
- assertVisible: Equity • Small-Cap.*
- assertVisible: Investment Details:.*
- assertVisible: Current Value.*
- assertVisible: Invested.*
- assertVisible: Current Gains.*
- assertVisible: Invested Since.*
- assertVisible: Performance.*
- assertVisible: This Fund.*
- assertVisible: IISL Nifty Smallcap 250 TR INR.*
- scrollUntilVisible:
    element:
      text: "Fund ranks in top 75% of its category.*"
    direction: DOWN
- assertVisible: Fund Analysis.*
- assertVisible: Fund has ideal composition \(market cap & style allocation\).*
- assertVisible: Fund ranks in top 75% of its category.*
- assertVisible: Powered by.*
